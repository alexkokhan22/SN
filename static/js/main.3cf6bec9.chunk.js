(this.webpackJsonpsn=this.webpackJsonpsn||[]).push([[0],{130:function(e,t,n){e.exports={img:"Users_img__2T2Ny"}},132:function(e,t,n){e.exports={item:"MyPosts_item__31-SE"}},133:function(e,t,n){e.exports={post:"Post_post__CXO0f"}},134:function(e,t,n){e.exports={error:"login_error__2ZymJ"}},16:function(e,t,n){e.exports={nav:"Nav_nav__2l9hx",item:"Nav_item__2LBG3",active:"Nav_active__1Ez4Q"}},245:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(1),a=n.n(s),i=(n(93),n(9)),c=n(43),o=n(3),u={dialogs:[{id:1,name:"Alex"},{id:2,name:"Roma"},{id:3,name:"Lera"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you ?"}]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/Add-New-Message":return Object(o.a)(Object(o.a)({},e),{},{messages:[].concat(Object(c.a)(e.messages),[{id:4,message:t.addMessage}])});default:return e}},p=n(6),j=n.n(p),d=n(11),f=n(126),b=n.n(f).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"96882b02-a427-4592-b196-6833093c647f"}}),h={getUsers:function(){var e=Object(d.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("users?page=".concat(t,"&count=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),unFollowUsers:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.delete("follow/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),followUsers:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("follow/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O={setUsersProfile:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("profile/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStatus:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("profile/status/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateStatus:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.put("profile/status/",{status:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),savePhoto:function(){var e=Object(d.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t),e.next=4,b.put("profile/photo",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(){return b.get("auth/me").then((function(e){return e.data}))},m=function(e,t,n){return b.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},v=function(){return b.delete("auth/login").then((function(e){return e.data}))},x={posts:[{id:1,message:" My first post",likeCount:11},{id:2,message:"Hi, how are you",likeCount:21}],profile:{aboutMe:"",contacts:{skype:"",vk:"",facebook:"",icq:"",email:"",googlePlus:"",twitter:"",instagram:"",whatsApp:""},lookingForAJob:!0,lookingForAJobDescription:"",fullName:"",userId:1,photos:{small:"",large:""}},status:""},w=function(e){return{type:"profile/SET-USERS-STATUS",status:e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/ADD-POST":return Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(c.a)(e.posts),[{id:3,message:t.addPost,likeCount:0}])});case"profile/SET-USERS-PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case"profile/SET-USERS-STATUS":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case"profile/DELETE-POSTS":return Object(o.a)(Object(o.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"profile/SAVE-USERS-PHOTO-PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:Object(o.a)(Object(o.a)({},e.profile),{},{photos:t.photos})});default:return e}},S={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},E=function(e,t,n){return e.map((function(e){return e.id===t?Object(o.a)(Object(o.a)({},e),{},{followed:n}):e}))},A=function(e){return{type:"users/FOLLOW",userId:e}},y=function(e){return{type:"users/UNFOLLOW",userId:e}},N=function(e){return{type:"users/IS_FETCHING",isFetching:e}},C=function(e,t){return{type:"users/TOGGLE_FOLLOWING_IN_PROGRESS",isFetching:e,usersId:t}},U=function(){var e=Object(d.a)(j.a.mark((function e(t,n,r,s){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(C(!0,t)),e.next=3,r(t);case 3:0===e.sent.resultCode&&n(s(t)),n(C(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),I=n(38),k={id:null,login:null,email:null,isAuth:!1},_=function(e,t,n,r){return{type:"auth/SET-USERS-DATA",data:{id:e,login:t,email:n,isAuth:r}}},F=function(){return function(){var e=Object(d.a)(j.a.mark((function e(t){var n,r,s,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:0===(n=e.sent).resultCode&&(r=n.data,s=r.id,a=r.login,i=r.email,t(_(s,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){return function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:0===e.sent.resultCode&&t(_(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=n(127),z=n(125),D={initialized:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET-INITIALIZED":return Object(o.a)(Object(o.a)({},e),{},{initialized:!0});default:return e}},M=Object(i.c)({profile:P,dialogs:l,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/FOLLOW":return Object(o.a)(Object(o.a)({},e),{},{users:E(e.users,t.userId,!0)});case"users/UNFOLLOW":return Object(o.a)(Object(o.a)({},e),{},{users:E(e.users,t.userId,!1)});case"users/SET_USERS":return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case"users/CHANGE_CURRENT_PAGE":return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case"users/SET_TOTAL_USERS_COUNT":return Object(o.a)(Object(o.a)({},e),{},{totalUsersCount:t.totalCount});case"users/IS_FETCHING":return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});case"users/TOGGLE_FOLLOWING_IN_PROGRESS":return Object(o.a)(Object(o.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.usersId]):e.followingInProgress.filter((function(e){return e!=t.usersId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET-USERS-DATA":return Object(o.a)(Object(o.a)({},e),t.data);default:return e}},app:B,form:z.a}),R=Object(i.e)(M,Object(i.a)(L.a)),Q=n(62),Z=n.n(Q),G=n(21),V=n(22),W=n(24),H=n(23),J=(n(245),n(14)),Y=n(16),K=n.n(Y),X=function(){return Object(r.jsxs)("nav",{className:K.a.nav,children:[Object(r.jsx)("div",{className:K.a.item,children:Object(r.jsx)(J.b,{to:"/profile",activeClassName:K.a.active,children:"Profile"})}),Object(r.jsx)("div",{className:K.a.item,children:Object(r.jsx)(J.b,{to:"/dialogs",activeClassName:K.a.active,children:"Messages"})}),Object(r.jsx)("div",{className:K.a.item,children:Object(r.jsx)(J.b,{to:"/users",activeClassName:K.a.active,children:"Users"})}),Object(r.jsx)("div",{className:K.a.item,children:Object(r.jsx)(J.b,{to:"/news",activeClassName:K.a.active,children:"News"})}),Object(r.jsx)("div",{className:K.a.item,children:Object(r.jsx)(J.b,{to:"/music",activeClassName:K.a.active,children:"Music"})}),Object(r.jsx)("div",{className:K.a.item,children:Object(r.jsx)(J.b,{to:"/login",activeClassName:K.a.active,children:"Login"})}),Object(r.jsx)("div",{className:K.a.item,children:Object(r.jsx)(J.b,{to:"/settings",activeClassName:K.a.active,children:"Settings"})})]})},q=function(){return Object(r.jsx)("div",{children:"Music"})},$=function(){return Object(r.jsx)("div",{children:"News"})},ee=function(){return Object(r.jsx)("div",{children:"Settings"})},te=n(13),ne=n(29),re=n.n(ne),se=function(e){return Object(r.jsx)("div",{className:re.a.item+" "+re.a.active,children:Object(r.jsx)(J.b,{to:"/dialogs/"+e.id,children:e.name})})},ae=function(e){return Object(r.jsx)("div",{className:re.a.message,children:e.message})},ie=n(123),ce=n(124),oe=n(53),ue=n(88),le=n.n(ue),pe=function(e){var t=e.meta,n=t.touched,s=t.error,a=e.children,i=n&&s;return Object(r.jsxs)("div",{className:le.a.formControl+" "+(i?le.a.error:""),children:[Object(r.jsx)("div",{children:a}),i&&Object(r.jsx)("span",{children:s})]})},je=function(e){var t=e.input,n=(e.meta,Object(oe.a)(e,["input","meta"]));return Object(r.jsxs)(pe,Object(o.a)(Object(o.a)({},e),{},{children:[" ",Object(r.jsx)("textarea",Object(o.a)(Object(o.a)({},t),n))]}))},de=function(e){var t=e.input,n=(e.meta,Object(oe.a)(e,["input","meta"]));return Object(r.jsx)(pe,Object(o.a)(Object(o.a)({},e),{},{children:Object(r.jsx)("input",Object(o.a)(Object(o.a)({},t),n))}))},fe=function(e){if(!e)return"Field is required"},be=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},he=be(100),Oe=Object(ce.a)({form:"messageForm"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(ie.a,{component:je,name:"addMessage",validate:[fe,he]})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Add message"})})]})})),ge=function(e){var t=e.dialogs.dialogs.map((function(e){return Object(r.jsx)(se,{name:e.name,id:e.id},e.id)})),n=e.dialogs.messages.map((function(e){return Object(r.jsx)(ae,{message:e.message},e.id)}));return Object(r.jsxs)("div",{className:re.a.dialogs,children:[Object(r.jsx)("div",{className:re.a.dialogsItem,children:t}),Object(r.jsx)("div",{className:re.a.messages,children:n}),Object(r.jsx)(Oe,{onSubmit:function(t){e.onChangeText(t.addMessage)}})]})},me=n(12),ve=function(e){return{isAuth:e.auth.isAuth}};function xe(e){var t=function(t){Object(W.a)(s,t);var n=Object(H.a)(s);function s(){return Object(G.a)(this,s),n.apply(this,arguments)}return Object(V.a)(s,[{key:"render",value:function(){var t=this.props,n=t.isAuth,s=Object(oe.a)(t,["isAuth"]);return!1===n?Object(r.jsx)(te.a,{to:"/login"}):Object(r.jsx)(e,Object(o.a)({},s))}}]),s}(a.a.Component);return Object(me.b)(ve)(t)}var we=Object(i.d)(Object(me.b)((function(e){return{dialogs:e.dialogs}}),(function(e){return{onChangeText:function(t){e(function(e){return{type:"dialogs/Add-New-Message",addMessage:e,newTextMessage:""}}(t))}}})),xe)(ge),Pe=n(135),Se=n(91),Ee=n.n(Se),Ae=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);var i=Math.ceil(t/e.portionSize),c=Object(s.useState)(1),o=Object(Pe.a)(c,2),u=o[0],l=o[1],p=(u-1)*e.portionSize+1,j=u*e.portionSize;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:Ee.a.paginator,children:u>1&&Object(r.jsx)("button",{onClick:function(){return l(u-1)},children:"prev"})}),n.filter((function(e){return e>=p&&e<=j})).map((function(t){return Object(r.jsx)("span",{className:e.currentPage===t?Ee.a.selectedPage:"",onClick:function(){return e.onPageChanged(t)},children:t})})),i>u&&Object(r.jsx)("button",{onClick:function(){return l(u+1)},children:"next"})]})},ye=n(130),Ne=n.n(ye),Ce=n.p+"static/media/kisspng-avatar-user-computer-icons-software-developer-5b327cc9cc15f7.872727801530035401836.e582e4ba.png",Ue=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:Object(r.jsx)(J.b,{to:"/profile/"+e.users.id,children:Object(r.jsx)("img",{className:Ne.a.img,src:null!=e.users.photos.small?e.users.photos.small:Ce})})}),Object(r.jsx)("div",{children:e.users.followed?Object(r.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.users.id})),onClick:function(){e.unFollowUsers(e.users.id)},children:"unFollow"}):Object(r.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.users.id})),onClick:function(){e.followUsers(e.users.id)},children:"Follow"})})]}),Object(r.jsx)("span",{children:Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:e.users.name}),Object(r.jsx)("div",{children:e.users.status})]})})]})},Ie=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(Ae,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,portionSize:10}),e.users.map((function(t){return Object(r.jsx)(Ue,{users:t,followUsers:e.followUsers,unFollowUsers:e.unFollowUsers,toggleFollowingInProgress:e.toggleFollowingInProgress,followingInProgress:e.followingInProgress},t.id)}))]})},ke=n.p+"static/media/Spin-1s-200px.c4b2521a.svg",_e=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:ke})})},Fe=n(131),Te=function(e){return e.users.users},Le=(Object(Fe.a)(Te,(function(e){return e.filter((function(e){return e}))})),function(e){return e.users.pageSize}),ze=function(e){return e.users.totalUsersCount},De=function(e){return e.users.currentPage},Be=function(e){return e.users.isFetching},Me=function(e){return e.users.followingInProgress},Re=function(e){return e.auth.isAuth},Qe=function(e){Object(W.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(G.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.changeCurrentPage(t),e.props.getUser(t,e.props.pageSize)},e}return Object(V.a)(n,[{key:"componentDidMount",value:function(){this.props.getUser(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[this.props.isFetching?Object(r.jsx)(_e,{}):null,Object(r.jsx)(Ie,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unFollowUsers:this.props.unFollow,followUsers:this.props.follow,toggleFollowingInProgress:this.props.toggleFollowingInProgress,followingInProgress:this.props.followingInProgress})]})}}]),n}(a.a.Component),Ze=Object(i.d)(Object(me.b)((function(e){return{users:Te(e),pageSize:Le(e),totalUsersCount:ze(e),currentPage:De(e),isFetching:Be(e),followingInProgress:Me(e),isAuth:Re(e)}}),{follow:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e,n,h.followUsers.bind(h),A);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e,n,h.unFollowUsers.bind(h),y);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeCurrentPage:function(e){return{type:"users/CHANGE_CURRENT_PAGE",currentPage:e}},toggleFollowingInProgress:C,getUser:function(e,t){return function(){var n=Object(d.a)(j.a.mark((function n(r){var s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(N(!0)),n.next=3,h.getUsers(e,t);case 3:s=n.sent,r(N(!1)),r({type:"users/SET_USERS",users:s.items}),r({type:"users/SET_TOTAL_USERS_COUNT",totalCount:s.totalCount});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Qe),Ge=n(67),Ve=n.n(Ge),We=function(e){Object(W.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(G.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={editMode:!1,status:e.props.status},e.onDoubleClick=function(){e.setState({editMode:!0})},e.onBlur=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e}return Object(V.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{children:this.state.editMode?Object(r.jsx)("div",{children:Object(r.jsx)("input",{autoFocus:!0,onChange:function(t){e.setState({status:t.currentTarget.value})},onBlur:this.onBlur,value:this.state.status})}):Object(r.jsx)("div",{children:Object(r.jsx)("span",{onDoubleClick:this.onDoubleClick,children:this.props.status?this.props.status:"no status"})})})}}]),n}(a.a.Component),He=function(e){if(!e.profile)return Object(r.jsx)(_e,{});return Object(r.jsx)("div",{className:Ve.a.profileInfo,children:Object(r.jsxs)("div",{className:Ve.a.ava,children:[Object(r.jsx)("img",{className:Ve.a.myPhoto,src:e.profile.photos.large||Ce}),e.isOwner&&Object(r.jsx)("input",{type:"file",onChange:function(t){t.target.files&&e.savePhoto(t.target.files[0])}}),Object(r.jsx)(We,{status:e.status,updateStatus:e.updateStatus}),Object(r.jsx)("div",{children:e.profile.fullName}),Object(r.jsx)("div",{children:e.profile.lookingForAJob}),Object(r.jsx)("div",{children:e.profile.lookingForAJobDescription})]})})},Je=n(132),Ye=n.n(Je),Ke=n(133),Xe=n.n(Ke),qe=n.p+"static/media/user-1.72235a95.png",$e=function(e){return Object(r.jsxs)("div",{className:Xe.a.post,children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:qe})}),Object(r.jsx)("div",{children:e.message}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"Like"}),Object(r.jsx)("span",{children:e.likeCount})]})]})},et=be(30),tt=Object(ce.a)({form:"messageForm"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(ie.a,{component:je,name:"addPost",validate:[fe,et],placeholder:"hi"})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Add message"})})]})})),nt=a.a.memo((function(e){var t=e.profile.posts.map((function(e){return Object(r.jsx)($e,{message:e.message,likeCount:e.likeCount},e.id)}));return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:Ye.a.item,children:Object(r.jsx)("h3",{children:"My post"})}),Object(r.jsx)(tt,{onSubmit:function(t){e.addPost(t.addPost)}}),Object(r.jsx)("div",{children:t})]})})),rt=Object(me.b)((function(e){return{profile:e.profile}}),(function(e){return{addPost:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){e(function(e){return{type:"profile/ADD-POST",addPost:e}}(t))}))}}))(nt),st=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(He,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto}),Object(r.jsx)(rt,{})]})},at=function(e){Object(W.a)(n,e);var t=Object(H.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"refresh",value:function(){var e=this.props.match.params.userId;e||(e=this.props.myId)||this.props.history.push("/login"),this.props.setUsersProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refresh()}},{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)(st,Object(o.a)(Object(o.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))})}}]),n}(a.a.Component),it=Object(i.d)(Object(me.b)((function(e){return{profile:e.profile.profile,status:e.profile.status,myId:e.auth.id,isAuth:e.auth.isAuth}}),{setUsersProfile:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.setUsersProfile(e);case 2:r=t.sent,n({type:"profile/SET-USERS-PROFILE",profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.getStatus(e);case 2:r=t.sent,n(w(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.updateStatus(e);case 2:0===t.sent.resultCode&&n(w(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n({type:"profile/SAVE-USERS-PHOTO-PROFILE",photos:r.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),te.f,xe)(at),ct=n(92),ot=n.n(ct),ut=function(e){return Object(r.jsxs)("header",{className:ot.a.header,children:[Object(r.jsx)("img",{src:"data:image/png;base64,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"}),Object(r.jsx)("div",{className:ot.a.login,children:e.isAuth?Object(r.jsxs)("div",{children:[e.login," - ",Object(r.jsx)("button",{onClick:e.logOut,children:"Log out"})]}):Object(r.jsx)(J.b,{to:"/login",children:"Login"})})]})},lt=function(e){Object(W.a)(n,e);var t=Object(H.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){return Object(r.jsx)(ut,Object(o.a)(Object(o.a)({},this.props),{},{isAuth:this.props.isAuth,login:this.props.login,logOut:this.props.logOut}))}}]),n}(a.a.Component),pt=Object(me.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logOut:T})(lt),jt=n(134),dt=n.n(jt),ft=Object(ce.a)({form:"login"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(ie.a,{component:de,name:"email",placeholder:"email",validate:[fe]})}),Object(r.jsx)("div",{children:Object(r.jsx)(ie.a,{component:de,name:"password",type:"password",placeholder:"Password",validate:[fe]})}),Object(r.jsx)("div",{children:Object(r.jsx)(ie.a,{component:de,name:"rememberMe",type:"checkbox"})}),"remember me",Object(r.jsx)("div",{className:e.error?dt.a.error:" ",children:e.error&&Object(r.jsx)("div",{children:e.error})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Login"})})]})})),bt=Object(me.b)((function(e){return{isAuth:e.auth.isAuth}}),{setLogin:function(e,t,n){return function(){var r=Object(d.a)(j.a.mark((function r(s){var a,i;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m(e,t,n);case 2:if(0!==(a=r.sent).resultCode){r.next=6;break}return r.next=6,s(F());case 6:i=a.messages.length>0?a.messages[0]:"email or password is wrong",s(Object(I.a)("login",{_error:i}));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},removeLogin:T})((function(e){return e.isAuth?Object(r.jsx)(te.a,{to:"/profile"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsx)(ft,{onSubmit:function(t){e.setLogin(t.email,t.password,t.rememberMe)}})]})})),ht=function(e){Object(W.a)(n,e);var t=Object(H.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"componentDidMount",value:function(){this.props.initializedUser()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(pt,{}),Object(r.jsx)(X,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(te.b,{path:"/dialogs",render:function(){return Object(r.jsx)(we,{})}}),Object(r.jsx)(te.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(it,{})}}),Object(r.jsx)(te.b,{path:"/users",render:function(){return Object(r.jsx)(Ze,{})}}),Object(r.jsx)(te.b,{path:"/music",render:function(){return Object(r.jsx)(q,{})}}),Object(r.jsx)(te.b,{path:"/news",render:function(){return Object(r.jsx)($,{})}}),Object(r.jsx)(te.b,{path:"/login",render:function(){return Object(r.jsx)(bt,{})}}),Object(r.jsx)(te.b,{path:"/settings",render:function(){return Object(r.jsx)(ee,{})}})]})]}):Object(r.jsx)(_e,{})}}]),n}(a.a.Component),Ot=Object(i.d)(te.f,Object(me.b)((function(e){return{initialized:e.app.initialized,isAuth:e.auth.isAuth}}),{initializedUser:function(){return function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(F()),e.next=3,Promise.all([n]);case 3:t({type:"app/SET-INITIALIZED"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(ht),gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,288)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))};Z.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(J.a,{children:Object(r.jsx)(me.a,{store:R,children:Object(r.jsx)(Ot,{})})})}),document.getElementById("root")),gt()},29:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3AnsP",dialogsItem:"Dialogs_dialogsItem__2irEs",active:"Dialogs_active__318Mn",item:"Dialogs_item__2zsxr",messages:"Dialogs_messages__6AbZT",message:"Dialogs_message__baJOR"}},67:function(e,t,n){e.exports={ava:"ProfileInfo_ava__1QUVr",img:"ProfileInfo_img__2fJIx",myPhoto:"ProfileInfo_myPhoto__1eIJa"}},88:function(e,t,n){e.exports={formControl:"FormControle_formControl__30GsY",error:"FormControle_error__iIJMu"}},91:function(e,t,n){e.exports={selectedPage:"paginator_selectedPage__2Cxer"}},92:function(e,t,n){e.exports={header:"Header_header__ZqvZa",login:"Header_login__2T9bo"}},93:function(e,t,n){}},[[287,1,2]]]);
//# sourceMappingURL=main.3cf6bec9.chunk.js.map