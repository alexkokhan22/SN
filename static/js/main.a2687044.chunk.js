(this.webpackJsonpsn=this.webpackJsonpsn||[]).push([[0],{135:function(e,t,n){e.exports={img:"preloader_img__3Zh3_"}},15:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__1E-y1",avatarContainer:"ProfileInfo_avatarContainer__226B_",avatar:"ProfileInfo_avatar__13oZL",spanPhoto:"ProfileInfo_spanPhoto__UDrC8",inputFile:"ProfileInfo_inputFile__1whaB",img:"ProfileInfo_img__2fJIx",myPhoto:"ProfileInfo_myPhoto__1eIJa",statusContainer:"ProfileInfo_statusContainer__1hqEy",statusInput:"ProfileInfo_statusInput__ElgwB",profileDataContainer:"ProfileInfo_profileDataContainer__296Co",contactsContainer:"ProfileInfo_contactsContainer__1ta74",buttonEdit:"ProfileInfo_buttonEdit__idZZE",editDataContainer:"ProfileInfo_editDataContainer__3ye5a",buttonSave:"ProfileInfo_buttonSave__2POIe",editContactsContainer:"ProfileInfo_editContactsContainer__M0jCe"}},17:function(e,t,n){e.exports={nav:"Nav_nav__2l9hx",item:"Nav_item__2LBG3",active:"Nav_active__1Ez4Q"}},246:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(1),a=n.n(s),o=(n(98),n(10)),i=n(46),c=n(4),u={dialogs:[{id:1,name:"Alex"},{id:2,name:"Roma"},{id:3,name:"Lera"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you ?"}]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/Add-New-Message":return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(i.a)(e.messages),[{id:4,message:t.addMessage}])});default:return e}},p=n(3),d=n.n(p),j=n(8),f=n(131),b=n.n(f).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"96882b02-a427-4592-b196-6833093c647f"}}),h={getUsers:function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("users?page=".concat(t,"&count=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),unFollowUsers:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.delete("follow/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),followUsers:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("follow/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O={setUsersProfile:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("profile/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStatus:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("profile/status/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateStatus:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.put("profile/status/",{status:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),savePhoto:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t),e.next=4,b.put("profile/photo",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),saveProfile:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.put("profile",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g={setUsersLogin:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},m={postUsersLogin:function(){var e=Object(j.a)(d.a.mark((function e(t,n,r,s){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("auth/login",{email:t,password:n,rememberMe:r,captcha:s});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),deleteUsersLogin:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.delete("auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},x={captcha:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},v={posts:[{id:1,message:" My first post",likeCount:11},{id:2,message:"Hi, how are you",likeCount:21}],profile:{aboutMe:"",contacts:{skype:"",vk:"",facebook:"",icq:"",email:"",googlePlus:"",twitter:"",instagram:"",whatsApp:""},lookingForAJob:!0,lookingForAJobDescription:"",fullName:"",userId:1,photos:{small:"",large:""}},status:""},_=function(e){return{type:"profile/SET-USERS-STATUS",status:e}},w=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.setUsersProfile(e);case 2:r=t.sent,n({type:"profile/SET-USERS-PROFILE",profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/ADD-POST":return Object(c.a)(Object(c.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[{id:3,message:t.addPost,likeCount:0}])});case"profile/SET-USERS-PROFILE":return Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});case"profile/SET-USERS-STATUS":return Object(c.a)(Object(c.a)({},e),{},{status:t.status});case"profile/DELETE-POSTS":return Object(c.a)(Object(c.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"profile/SAVE-USERS-PHOTO-PROFILE":return Object(c.a)(Object(c.a)({},e),{},{profile:Object(c.a)(Object(c.a)({},e.profile),{},{photos:t.photos})});default:return e}},P={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},S=function(e,t,n){return e.map((function(e){return e.id===t?Object(c.a)(Object(c.a)({},e),{},{followed:n}):e}))},N=function(e){return{type:"users/FOLLOW",userId:e}},y=function(e){return{type:"users/UNFOLLOW",userId:e}},k=function(e){return{type:"users/IS_FETCHING",isFetching:e}},I=function(e,t){return{type:"users/TOGGLE_FOLLOWING_IN_PROGRESS",isFetching:e,usersId:t}},U=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(I(!0,t)),e.next=3,r(t);case 3:0===e.sent.resultCode&&n(s(t)),n(I(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),F=n(39),A={id:null,login:null,email:null,isAuth:!1,captcha:null},E=function(e,t,n,r,s){return{type:"auth/SET-USERS-DATA",data:{id:e,login:t,email:n,isAuth:r,captcha:s}}},T=function(e){return{type:"auth/GET-CAPTCHA",data:{captcha:e}}},L=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,s,a,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.setUsersLogin();case 2:0===(n=e.sent).resultCode&&(r=n.data,s=r.id,a=r.login,o=r.email,i=r.captcha,t(E(s,a,o,!0,i)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.deleteUsersLogin();case 2:0===e.sent.resultCode&&t(E(null,null,null,!1,null));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.captcha();case 2:n=e.sent,r=n.data.url,t(T(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=n(132),z=n(130),G={initialized:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET-INITIALIZED":return Object(c.a)(Object(c.a)({},e),{},{initialized:!0});default:return e}},J=Object(o.c)({profile:C,dialogs:l,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/FOLLOW":return Object(c.a)(Object(c.a)({},e),{},{users:S(e.users,t.userId,!0)});case"users/UNFOLLOW":return Object(c.a)(Object(c.a)({},e),{},{users:S(e.users,t.userId,!1)});case"users/SET_USERS":return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case"users/CHANGE_CURRENT_PAGE":return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case"users/SET_TOTAL_USERS_COUNT":return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalCount});case"users/IS_FETCHING":return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.isFetching});case"users/TOGGLE_FOLLOWING_IN_PROGRESS":return Object(c.a)(Object(c.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.usersId]):e.followingInProgress.filter((function(e){return e!=t.usersId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET-USERS-DATA":case"auth/GET-CAPTCHA":return Object(c.a)(Object(c.a)({},e),t.data);default:return e}},app:H,form:z.a}),B=Object(o.e)(J,Object(o.a)(R.a)),Z=n(69),W=n.n(Z),q=n(22),V=n(23),K=n(25),X=n(24),Y=(n(246),n(14)),Q=n(17),$=n.n(Q),ee=function(){return Object(r.jsxs)("nav",{className:$.a.nav,children:[Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Y.b,{to:"/profile",activeClassName:$.a.active,children:"Profile"})}),Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Y.b,{to:"/dialogs",activeClassName:$.a.active,children:"Messages"})}),Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Y.b,{to:"/users",activeClassName:$.a.active,children:"Users"})}),Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Y.b,{to:"/news",activeClassName:$.a.active,children:"News"})}),Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Y.b,{to:"/music",activeClassName:$.a.active,children:"Music"})}),Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Y.b,{to:"/login",activeClassName:$.a.active,children:"Login"})}),Object(r.jsx)("div",{className:$.a.item,children:Object(r.jsx)(Y.b,{to:"/settings",activeClassName:$.a.active,children:"Settings"})})]})},te=function(){return Object(r.jsx)("div",{children:"Music"})},ne=function(){return Object(r.jsx)("div",{children:"News"})},re=function(){return Object(r.jsx)("div",{children:"Settings"})},se=n(13),ae=n(31),oe=n.n(ae),ie=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(Y.b,{to:"/dialogs/"+e.id,children:e.name})})},ce=function(e){return Object(r.jsx)("div",{className:oe.a.message,children:e.message})},ue=n(128),le=n(129),pe=n(59),de=n(95),je=n.n(de),fe=function(e){var t=e.meta,n=t.touched,s=t.error,a=e.children,o=n&&s;return Object(r.jsxs)("div",{className:je.a.formControl+" "+(o?je.a.error:""),children:[Object(r.jsx)("div",{children:a}),o&&Object(r.jsx)("span",{children:s})]})},be=function(e){var t=e.input,n=(e.meta,Object(pe.a)(e,["input","meta"]));return Object(r.jsxs)(fe,Object(c.a)(Object(c.a)({},e),{},{children:[" ",Object(r.jsx)("textarea",Object(c.a)(Object(c.a)({},t),n))]}))},he=function(e){var t=e.input,n=(e.meta,Object(pe.a)(e,["input","meta"]));return Object(r.jsx)(fe,Object(c.a)(Object(c.a)({},e),{},{children:Object(r.jsx)("input",Object(c.a)(Object(c.a)({},t),n))}))},Oe=function(e){if(!e)return"Field is required"},ge=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},me=ge(100),xe=Object(le.a)({form:"messageForm"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{className:oe.a.textarea,children:Object(r.jsx)(ue.a,{component:be,name:"addMessage",validate:[Oe,me]})}),Object(r.jsx)("div",{className:oe.a.buttonAdd,children:Object(r.jsx)("button",{children:"Add message"})})]})})),ve=function(e){var t=e.dialogs.dialogs.map((function(e){return Object(r.jsx)(ie,{name:e.name,id:e.id},e.id)})),n=e.dialogs.messages.map((function(e){return Object(r.jsx)(ce,{message:e.message},e.id)}));return Object(r.jsxs)("div",{className:oe.a.dialogs,children:[Object(r.jsx)("div",{className:oe.a.dialogsItem,children:t}),Object(r.jsx)("div",{className:oe.a.messages,children:n}),Object(r.jsx)(xe,{onSubmit:function(t){e.onChangeText(t.addMessage)}})]})},_e=n(12),we=function(e){return{isAuth:e.auth.isAuth}};function Ce(e){var t=function(t){Object(K.a)(s,t);var n=Object(X.a)(s);function s(){return Object(q.a)(this,s),n.apply(this,arguments)}return Object(V.a)(s,[{key:"render",value:function(){var t=this.props,n=t.isAuth,s=Object(pe.a)(t,["isAuth"]);return!1===n?Object(r.jsx)(se.a,{to:"/login"}):Object(r.jsx)(e,Object(c.a)({},s))}}]),s}(a.a.Component);return Object(_e.b)(we)(t)}var Pe=Object(o.d)(Object(_e.b)((function(e){return{dialogs:e.dialogs}}),(function(e){return{onChangeText:function(t){e(function(e){return{type:"dialogs/Add-New-Message",addMessage:e,newTextMessage:""}}(t))}}})),Ce)(ve),Se=n(73),Ne=n(47),ye=n.n(Ne),ke=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);var o=Math.ceil(t/e.portionSize),i=Object(s.useState)(1),c=Object(Se.a)(i,2),u=c[0],l=c[1],p=(u-1)*e.portionSize+1,d=u*e.portionSize;return Object(r.jsxs)("div",{className:ye.a.paginatorContainer,children:[Object(r.jsx)("div",{className:ye.a.paginatorPrev,children:u>1&&Object(r.jsx)("button",{onClick:function(){return l(u-1)},children:"prev"})}),Object(r.jsx)("div",{className:ye.a.numberPage,children:n.filter((function(e){return e>=p&&e<=d})).map((function(t){return Object(r.jsx)("span",{className:e.currentPage===t?ye.a.selectedPage:"",onClick:function(){return e.onPageChanged(t)},children:t})}))}),o>u&&Object(r.jsx)("button",{className:ye.a.paginatorNext,onClick:function(){return l(u+1)},children:"next"})]})},Ie=n(48),Ue=n.n(Ie),Fe=n.p+"static/media/kisspng-avatar-user-computer-icons-software-developer-5b327cc9cc15f7.872727801530035401836.e582e4ba.png",Ae=function(e){return Object(r.jsxs)("div",{className:Ue.a.userContainer,children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{className:Ue.a.name,children:e.users.name}),Object(r.jsx)("div",{children:e.users.status})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:Object(r.jsx)(Y.b,{to:"/profile/"+e.users.id,children:Object(r.jsx)("img",{className:Ue.a.img,src:null!=e.users.photos.small?e.users.photos.small:Fe})})}),Object(r.jsx)("div",{children:e.users.followed?Object(r.jsx)("button",{className:Ue.a.buttonFollow,disabled:e.followingInProgress.some((function(t){return t===e.users.id})),onClick:function(){e.unFollowUsers(e.users.id)},children:"unFollow"}):Object(r.jsx)("button",{className:Ue.a.buttonFollow,disabled:e.followingInProgress.some((function(t){return t===e.users.id})),onClick:function(){e.followUsers(e.users.id)},children:"Follow"})})]})]})},Ee=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(ke,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,portionSize:10}),e.users.map((function(t){return Object(r.jsx)(Ae,{users:t,followUsers:e.followUsers,unFollowUsers:e.unFollowUsers,toggleFollowingInProgress:e.toggleFollowingInProgress,followingInProgress:e.followingInProgress},t.id)}))]})},Te=n.p+"static/media/loading-97.c8928b62.gif",Le=n(135),Me=n.n(Le),De=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{className:Me.a.img,src:Te})})},Re=n(136),ze=function(e){return e.users.users},Ge=(Object(Re.a)(ze,(function(e){return e.filter((function(e){return e}))})),function(e){return e.users.pageSize}),He=function(e){return e.users.totalUsersCount},Je=function(e){return e.users.currentPage},Be=function(e){return e.users.isFetching},Ze=function(e){return e.users.followingInProgress},We=function(e){return e.auth.isAuth},qe=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(q.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.changeCurrentPage(t),e.props.getUser(t,e.props.pageSize)},e}return Object(V.a)(n,[{key:"componentDidMount",value:function(){this.props.getUser(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[this.props.isFetching?Object(r.jsx)(De,{}):null,Object(r.jsx)(Ee,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unFollowUsers:this.props.unFollow,followUsers:this.props.follow,toggleFollowingInProgress:this.props.toggleFollowingInProgress,followingInProgress:this.props.followingInProgress})]})}}]),n}(a.a.Component),Ve=Object(o.d)(Object(_e.b)((function(e){return{users:ze(e),pageSize:Ge(e),totalUsersCount:He(e),currentPage:Je(e),isFetching:Be(e),followingInProgress:Ze(e),isAuth:We(e)}}),{follow:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e,n,h.followUsers.bind(h),N);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e,n,h.unFollowUsers.bind(h),y);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeCurrentPage:function(e){return{type:"users/CHANGE_CURRENT_PAGE",currentPage:e}},toggleFollowingInProgress:I,getUser:function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(k(!0)),n.next=3,h.getUsers(e,t);case 3:s=n.sent,r(k(!1)),r({type:"users/SET_USERS",users:s.items}),r({type:"users/SET_TOTAL_USERS_COUNT",totalCount:s.totalCount});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(qe),Ke=n(15),Xe=n.n(Ke),Ye=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(q.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={editMode:!1,status:e.props.status},e.onDoubleClick=function(){e.setState({editMode:!0})},e.onBlur=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e}return Object(V.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{children:this.state.editMode?Object(r.jsx)("div",{className:Xe.a.statusContainer,children:Object(r.jsx)("input",{className:Xe.a.statusInput,autoFocus:!0,onChange:function(t){e.setState({status:t.currentTarget.value})},onBlur:this.onBlur,value:this.state.status})}):Object(r.jsxs)("div",{className:Xe.a.statusContainer,children:["Status: ",Object(r.jsx)("span",{onDoubleClick:this.onDoubleClick,children:this.props.status?this.props.status:"no status"})]})})}}]),n}(a.a.Component),Qe=n.p+"static/media/5.6e9bc99a.jpg",$e=function(e){return Object(r.jsxs)("div",{children:[e.contactTitle,": ",e.contactValue]})},et=function(e){return Object(r.jsxs)("div",{className:Xe.a.profileDataContainer,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"Full name:"})," ",e.profile.fullName]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"Looking for a Job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"My professional skills:"})," ",e.profile.lookingForAJobDescription]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"About Me:"})," ",e.profile.aboutMe]}),Object(r.jsxs)("div",{className:Xe.a.contactsContainer,children:[Object(r.jsx)("span",{children:"Contacts:"})," ",Object.keys(e.profile.contacts).map((function(t){return Object(r.jsx)($e,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]}),e.isOwner&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:Xe.a.buttonEdit,onClick:e.goToEditMode,children:"edit"})})]})},tt=Object(le.a)({form:"profileData"})((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("form",{onSubmit:e.handleSubmit,children:Object(r.jsxs)("div",{className:Xe.a.editDataContainer,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"Full name:"})," ",Object(r.jsx)(ue.a,{component:he,name:"fullName",placeholder:"full Name"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"Looking for a Job:"})," ",Object(r.jsx)(ue.a,{component:he,type:"checkbox",name:"lookingForAJob"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"My professional skills:"})," ",Object(r.jsx)(ue.a,{component:be,name:"lookingForAJobDescription",placeholder:"My professional skills"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"About Me:"})," ",Object(r.jsx)(ue.a,{component:be,name:"aboutMe",placeholder:"about Me"})]}),Object(r.jsxs)("div",{className:Xe.a.editContactsContainer,children:[Object(r.jsx)("span",{children:"Contacts:"})," ",Object.keys(e.profile.contacts).map((function(e){return Object(r.jsxs)("div",{children:[e,": ",Object(r.jsx)(ue.a,{component:he,name:"contacts."+e,placeholder:e})]},e)}))]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:Xe.a.buttonSave,children:"save"})})]})})})})),nt=function(e){var t=Object(s.useState)(!1),n=Object(Se.a)(t,2),a=n[0],o=n[1];if(!e.profile)return Object(r.jsx)(De,{});var i=function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveProfile(n);case 2:o(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)("div",{className:Xe.a.profileInfo,children:Object(r.jsxs)("div",{className:Xe.a.avatar,children:[Object(r.jsxs)("div",{className:Xe.a.avatarContainer,children:[Object(r.jsx)("img",{className:Xe.a.myPhoto,src:e.profile.photos.large||Qe}),Object(r.jsx)("div",{children:e.isOwner&&Object(r.jsx)("div",{className:Xe.a.spanPhoto,children:"Download photo"})}),Object(r.jsx)("div",{children:e.isOwner&&Object(r.jsx)("input",{className:Xe.a.inputFile,type:"file",onChange:function(t){t.target.files&&e.savePhoto(t.target.files[0])}})}),Object(r.jsx)(Ye,{status:e.status,updateStatus:e.updateStatus})]}),a?Object(r.jsx)(tt,{profile:e.profile,initialValues:e.profile,onSubmit:i}):Object(r.jsx)(et,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){o(!0)}})]})})},rt=n(36),st=n.n(rt),at=n(60),ot=n.n(at),it=function(e){return Object(r.jsxs)("div",{className:ot.a.post,children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:Qe})}),Object(r.jsxs)("div",{className:ot.a.messagesContainer,children:[Object(r.jsx)("div",{className:ot.a.message,children:e.message}),Object(r.jsxs)("div",{className:ot.a.likes,children:[Object(r.jsx)("span",{children:"Like"}),Object(r.jsx)("span",{children:e.likeCount})]})]})]})},ct=ge(30),ut=Object(le.a)({form:"messageForm"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{className:st.a.inputForm,children:Object(r.jsx)(ue.a,{component:be,name:"addPost",validate:[Oe,ct],placeholder:"hi"})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:st.a.buttonPost,children:"Add message"})})]})})),lt=a.a.memo((function(e){var t=e.profile.posts.map((function(e){return Object(r.jsx)(it,{message:e.message,likeCount:e.likeCount},e.id)}));return Object(r.jsxs)("div",{className:st.a.postsContainer,children:[Object(r.jsx)("div",{className:st.a.item,children:Object(r.jsx)("h2",{children:"My post"})}),Object(r.jsxs)("div",{className:st.a.addPostContainer,children:[Object(r.jsx)(ut,{onSubmit:function(t){e.addPost(t.addPost)}}),Object(r.jsx)("div",{className:st.a.postContainer,children:t})]})]})})),pt=Object(_e.b)((function(e){return{profile:e.profile}}),(function(e){return{addPost:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){e(function(e){return{type:"profile/ADD-POST",addPost:e}}(t))}))}}))(lt),dt=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(nt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),Object(r.jsx)(pt,{})]})},jt=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"refresh",value:function(){var e=this.props.match.params.userId;e||(e=this.props.myId)||this.props.history.push("/login"),this.props.setUsersProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refresh()}},{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)(dt,Object(c.a)(Object(c.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))})}}]),n}(a.a.Component),ft=Object(o.d)(Object(_e.b)((function(e){return{profile:e.profile.profile,status:e.profile.status,myId:e.auth.id,isAuth:e.auth.isAuth}}),{setUsersProfile:w,getStatus:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.getStatus(e);case 2:r=t.sent,n(_(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.updateStatus(e);case 2:0===t.sent.resultCode&&n(_(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n({type:"profile/SAVE-USERS-PHOTO-PROFILE",photos:r.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n,r){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r().auth.id,t.next=3,O.saveProfile(e);case 3:0===t.sent.data.resultCode&&s&&n(w(s));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),se.f,Ce)(jt),bt=n(49),ht=n.n(bt),Ot=n.p+"static/media/logo.ec36afef.jpg",gt=function(e){return Object(r.jsxs)("header",{className:ht.a.header,children:[Object(r.jsx)("img",{src:Ot}),Object(r.jsx)("div",{className:ht.a.login,children:e.isAuth?Object(r.jsxs)("div",{className:ht.a.logOut,children:[e.login," -",Object(r.jsx)("button",{className:ht.a.buttonLogOut,onClick:e.logOut,children:"Log out"})]}):Object(r.jsx)(Y.b,{className:ht.a.loginNav,to:"/login",children:"Login"})})]})},mt=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){return Object(r.jsx)(gt,Object(c.a)(Object(c.a)({},this.props),{},{isAuth:this.props.isAuth,login:this.props.login,logOut:this.props.logOut}))}}]),n}(a.a.Component),xt=Object(_e.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logOut:M})(mt),vt=n(30),_t=n.n(vt),wt=Object(le.a)({form:"login"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(ue.a,{className:_t.a.input,component:he,name:"email",placeholder:"email",validate:[Oe]})}),Object(r.jsx)("div",{children:Object(r.jsx)(ue.a,{className:_t.a.input,component:he,name:"password",type:"password",placeholder:"password",validate:[Oe]})}),Object(r.jsxs)("div",{className:_t.a.checkboxContainer,children:[Object(r.jsx)(ue.a,{className:_t.a.checkbox,component:he,name:"rememberMe",type:"checkbox"}),Object(r.jsx)("span",{className:_t.a.checkboxSpan,children:"remember me"})]}),Object(r.jsxs)("div",{children:[e.captchaUrl&&Object(r.jsx)("img",{src:e.captchaUrl}),e.captchaUrl&&Object(r.jsx)(ue.a,{component:he,name:"captcha"})]}),Object(r.jsx)("div",{className:e.error?_t.a.error:" ",children:e.error&&Object(r.jsx)("div",{children:e.error})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:_t.a.loginButton,children:"Login"})})]})})),Ct=Object(_e.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captcha}}),{setLogin:function(e,t,n,r){return function(){var s=Object(j.a)(d.a.mark((function s(a){var o,i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,m.postUsersLogin(e,t,n,r);case 2:if(0!==(o=s.sent).resultCode){s.next=8;break}return s.next=6,a(L());case 6:s.next=12;break;case 8:if(10!==o.resultCode){s.next=10;break}return s.abrupt("return",a(D()));case 10:i=o.messages.length>0?o.messages[0]:"email or password is wrong",a(Object(F.a)("login",{_error:i}));case 12:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},removeLogin:M})((function(e){return e.isAuth?Object(r.jsx)(se.a,{to:"/profile"}):Object(r.jsxs)("div",{className:_t.a.loginContainer,children:[Object(r.jsx)("h1",{className:_t.a.h1,children:"Login"}),Object(r.jsx)(wt,{onSubmit:function(t){e.setLogin(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl?e.captchaUrl:""})]})})),Pt=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"componentDidMount",value:function(){this.props.initializedUser()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(xt,{}),Object(r.jsx)(ee,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(se.b,{path:"/dialogs",render:function(){return Object(r.jsx)(Pe,{})}}),Object(r.jsx)(se.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(ft,{})}}),Object(r.jsx)(se.b,{path:"/users",render:function(){return Object(r.jsx)(Ve,{})}}),Object(r.jsx)(se.b,{path:"/music",render:function(){return Object(r.jsx)(te,{})}}),Object(r.jsx)(se.b,{path:"/news",render:function(){return Object(r.jsx)(ne,{})}}),Object(r.jsx)(se.b,{path:"/login",render:function(){return Object(r.jsx)(Ct,{})}}),Object(r.jsx)(se.b,{path:"/settings",render:function(){return Object(r.jsx)(re,{})}})]})]}):Object(r.jsx)(De,{})}}]),n}(a.a.Component),St=Object(o.d)(se.f,Object(_e.b)((function(e){return{initialized:e.app.initialized,isAuth:e.auth.isAuth}}),{initializedUser:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(L()),e.next=3,Promise.all([n]);case 3:t({type:"app/SET-INITIALIZED"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Pt),Nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,289)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),s(e),a(e),o(e)}))};W.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Y.a,{children:Object(r.jsx)(_e.a,{store:B,children:Object(r.jsx)(St,{})})})}),document.getElementById("root")),Nt()},30:function(e,t,n){e.exports={loginContainer:"login_loginContainer__3DOF8",h1:"login_h1__2C6qi",input:"login_input__2l3Pf",checkboxContainer:"login_checkboxContainer__1-5zZ",checkbox:"login_checkbox__2Ewl4",checkboxSpan:"login_checkboxSpan__2F0UZ",loginButton:"login_loginButton__DhMSi",error:"login_error__2ZymJ"}},31:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3AnsP",dialogsItem:"Dialogs_dialogsItem__2irEs",messages:"Dialogs_messages__6AbZT",textarea:"Dialogs_textarea__3WnBl",buttonAdd:"Dialogs_buttonAdd__3wPrg"}},36:function(e,t,n){e.exports={postsContainer:"MyPosts_postsContainer__2ziHH",item:"MyPosts_item__31-SE",inputForm:"MyPosts_inputForm__1pX6l",buttonPost:"MyPosts_buttonPost__3eKdy",addPostContainer:"MyPosts_addPostContainer__2FGKr",postContainer:"MyPosts_postContainer__3FxsG"}},47:function(e,t,n){e.exports={paginatorContainer:"paginator_paginatorContainer__2Sy2l",paginatorPrev:"paginator_paginatorPrev__duGap",paginatorNext:"paginator_paginatorNext__ncnMN",selectedPage:"paginator_selectedPage__2Cxer",numberPage:"paginator_numberPage__1R52S"}},48:function(e,t,n){e.exports={img:"Users_img__2T2Ny",userContainer:"Users_userContainer__1lgE0",name:"Users_name__J_dgO",buttonFollow:"Users_buttonFollow__3Clgq"}},49:function(e,t,n){e.exports={header:"Header_header__ZqvZa",login:"Header_login__2T9bo",logOut:"Header_logOut__2QN_m",buttonLogOut:"Header_buttonLogOut__Xa0Jy",loginNav:"Header_loginNav__2_00F"}},60:function(e,t,n){e.exports={post:"Post_post__CXO0f",messagesContainer:"Post_messagesContainer__1WA_D",message:"Post_message__2v9O7",likes:"Post_likes__uapMY"}},95:function(e,t,n){e.exports={formControl:"FormControle_formControl__30GsY",error:"FormControle_error__iIJMu"}},98:function(e,t,n){}},[[288,1,2]]]);
//# sourceMappingURL=main.a2687044.chunk.js.map